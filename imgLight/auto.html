<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=0.5,maximum-scale=0.5,minimum-scale=0.5,user-scalable=0">
	<title>auto</title>
	<style type="text/css">
		html,body{margin: 0;padding: 0}
		.auto{display: flex;
    flex-flow: row wrap;
    padding: 0 10px;}
		a{display: inline-block;margin:0 10px 20px 10px;height: 60px;line-height: 60px;font-size: 32px;flex-grow: 0;text-align: center;padding: 0 40px;
		background: #f7f7f7;color:#666;text-decoration: none;border-radius: 6px;}
	</style>
</head>
<body>
	<div class="auto">
		<a href="javascript:void(0)">AAA</a><a href="javascript:void(0)">BB</a><a href="javascript:void(0)">D</a><a href="javascript:void(0)">EEEEE</a><a href="javascript:void(0)">AAA</a><a href="javascript:void(0)">DDDDD</a><a href="javascript:void(0)">QWE</a><a href="javascript:void(0)">CXCZC</a><a href="javascript:void(0)">AAA</a><a href="javascript:void(0)">ZXCZXCZXCZX</a><a href="javascript:void(0)">AAA</a><a href="javascript:void(0)">ZXCXZC</a><a href="javascript:void(0)">AAA</a><a href="javascript:void(0)">ZXCZC</a><a href="javascript:void(0)">ZC</a><a href="javascript:void(0)">X</a><a href="javascript:void(0)">AAA</a><a href="javascript:void(0)">ZXCZXC</a>
	</div>
</body>
<script type="text/javascript" src="js/jquery-1.8.2.min.js"></script>
<script type="text/javascript">
	$(function(){
		// auto();
	})
	window.onload = function(){
		auto();
	}
	function auto() {
		// $('.auto').find('a').css({
		// 	width: "",
		// 	padding: "",
		// });
		var sumWidth = $(window).width() - 20,
			groups = [],
			j = 0,
			t = 0;
		// 分组 计算宽度
		for (var i = 0; i < $('.auto a').length; ++i) {
			
			var hotItem = $('.auto').find('a').eq(i);
			var iw = hotItem.width() +
				parseInt(hotItem.css('margin-left')) + parseInt(hotItem.css('margin-right')) +
				parseInt(hotItem.css('padding-left')) + parseInt(hotItem.css('padding-right'));
			t += iw;
			
			if (t >= sumWidth) {
				groups[j].sw = t - iw;
				t = iw;
				j++;
			}
			if (!groups[j]) {
				groups[j] = {
					sw: 0,
					items: []
				};
			}
			groups[j].items.push({
				index: i,
				width: iw,
			});
		}
		groups[j].sw = t;
		// 执行元素宽度变化
		t = 0;
		for (var k = 0; k < groups.length; ++k) {
			var zw = parseInt((sumWidth - groups[k].sw) / groups[k].items.length);
			if (k == groups.length - 1 && zw > 30) {
				continue;
			}
			t = sumWidth;
			for (var l = 0; l < groups[k].items.length; ++l) {
				var tw = groups[k].items[l].width + zw;
				if (l == groups[k].items.length - 1) {
					tw = t;
				}
				t -= tw;
				$('.auto').find('a').eq(groups[k].items[l].index).css({
					width: tw - 20,
					paddingLeft: 0,
					paddingRight: 0,
				});
			}
		}
	}
	
</script>
</html>